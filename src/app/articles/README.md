# 文章生成功能说明

## Dify AI 集成

本项目已集成Dify AI用于自动生成文章内容。通过API连接，系统可以利用Dify的大语言模型能力，根据用户提供的关键词和模板生成加密货币相关文章。

### 参数映射

Dify API参数与文章生成表单字段的映射关系：

| 表单字段 | Dify参数 | 说明 |
|---------|---------|------|
| 关键词 (topic) | topic | 文章的核心主题，可以是"比特币"、"以太坊"等 |
| 文章模板 (template) | template | 生成文章的结构模板，如"价格分析模板"、"项目介绍模板" |
| 任务类型 | type | 固定为"content"，表示生成完整文章内容 |
| 自动生成 | title | 根据关键词和模板类型自动生成标题 |

### 使用流程

1. 在文章管理页面点击"生成AI文章"按钮
2. 选择或输入关键词（支持多个关键词，以第一个为主题）
3. 选择文章模板（决定文章的结构和风格）
4. 点击"提交生成"按钮
5. 系统会调用Dify API生成文章内容
6. 生成的文章会添加到文章列表中，状态为"待审核"

### 技术实现

- `GenerateArticleModal.tsx` - 实现生成文章的弹窗组件
- `DifyClient.generateContent()` - 调用Dify API生成内容
- 使用React Suspense和Lazy Loading优化加载性能
- 保存文章时记录Dify相关信息（messageId, conversationId等）

### 错误处理

系统对以下情况进行了错误处理：
- Dify API参数获取失败
- 内容生成请求失败
- 必填字段验证

## 未来优化方向

1. 支持更多文章类型的生成
2. 实现草稿保存和继续编辑功能
3. 提供AI生成内容的反馈机制
4. 支持基于已有文章的改写或优化 